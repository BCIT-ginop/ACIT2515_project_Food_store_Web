{% extends "base.html" %} {% block content %}
<h1>{{ title if title else "Our Products" }}</h1>

<div class="product-grid">
  {% for product in products %}
  <div class="product-card" id="product-{{ product.id }}">
    <h3>{{ product.name }}</h3>
    <p class="category">{{ product.category.name }}</p>
    <p class="price">${{ product.price }}</p>

    {% if product.available > 0 %}
    <p class="stock">In Stock: {{ product.available }}</p>
    <form action="/add_to_cart" method="POST" class="add-to-cart-form">
      <input type="hidden" name="product_id" value="{{ product.id }}" />
      <button type="submit" class="add-btn">Add to Cart</button>
    </form>
    {% else %}
    <p class="stock out">OUT OF STOCK</p>
    {% endif %}
  </div>
  {% endfor %}
</div>
{% endblock %}
