{% extends "base.html" %} {% block content %}
<h1>Shopping Cart</h1>

{% if cart_items %}
<table
  class="cart-table"
  border="1"
  cellpadding="10"
  style="width: 100%; border-collapse: collapse"
>
  <thead>
    <tr>
      <th>Product</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Subtotal</th>
    </tr>
  </thead>
  <tbody>
    {% for item in cart_items %}
    <tr>
      <td>{{ item.product.name }}</td>
      <td>${{ item.product.price }}</td>
      <td>{{ item.quantity }}</td>
      <td>${{ item.subtotal | round(2) }}</td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr>
      <td colspan="3" style="text-align: right"><strong>Total:</strong></td>
      <td><strong>${{ grand_total | round(2) }}</strong></td>
    </tr>
  </tfoot>
</table>

<div style="margin-top: 20px; text-align: right">
  <form action="{{ url_for('checkout') }}" method="POST">
    <button
      type="submit"
      style="
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border: none;
        cursor: pointer;
      "
    >
      Checkout & Pay
    </button>
  </form>
</div>

{% else %}
<p>Your cart is empty. <a href="{{ url_for('products') }}">Go shopping!</a></p>
{% endif %} {% endblock %}
